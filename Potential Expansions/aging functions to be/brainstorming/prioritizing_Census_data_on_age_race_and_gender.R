#prioritizing Census data on age race and gender

make_easier=function(sex,race,age){
  race.for.code=ifelse(race=="Black or African American","black",
                       ifelse(race=="American Indian or Alaskan Native","amer.indian.alaskan",
                              ifelse(race=="Asian","asian",
                                     ifelse(race=="Native Hawaiian or Other Pacific Islander","islander",
                                            ifelse(race=="Some Other Race","other",
                                                   ifelse(race=="Two or More Races","multiracial",
                                                          ifelse(race=="White","white",
                                                                 ifelse(race=="Hispanic or Latino","hispanic",NA
                       ))))))))
  age.for.code=ifelse(age<5,"under.5",
                      ifelse(age>=5&age<=9,"5.to.9",
                             ifelse(age>=10&age<=14,"10.to.14",
                                    ifelse(age>=15&age<=17,"15.to.17",
                                           ifelse(age>=18&age<=19,"18.to.19",
                                                  ifelse(age>=20&age<=24,"20.to.24",
                                                         ifelse(age>=25&age<=29,"25.to.29",
                                                                ifelse(age>=30&age<=34,"30.to.34",
                                                                       ifelse(age>=35&age<=44,"35.to.44",
                                                                              ifelse(age>=45&age<=54,"45.to.54",
                                                                                     ifelse(age>=55&age<=64,"55.to.64",
                                                                                            ifelse(age>=65&age<=74,"65.to.74",
                                                                                                   ifelse(age>=75&age<=84,"75.to.84",
                                                                                                          ifelse(age>=75,"over.75",
                                                                                                                 NA))))))))))))))
  sex.for.code=ifelse(sex=="Female"&age<18,"girls",
                      ifelse(sex=="Female"&age>=18,"women",
                             ifelse(sex=="Male"&age<18,"boys",
                                    ifelse(sex=="Male"&age>=18,"men"))))

  final_code_for_table_reference=paste(race.for.code,sex.for.code,age.for.code,sep = ".")
  return(final_code_for_table_reference)
}

#Subset tract
a_tract_to_play_with=people_still_living_in_the_tract2[people_still_living_in_the_tract2$tract==tract,]
a_tract_to_play_with=a_tract_to_play_with[c("age","race","sex","householdID","household.type","size","tract")]
babies=babies[babies$tract==tract]
a_tract_to_play_with=rbind(a_tract_to_play_with,babies[c("age","race","sex","householdID","household.type","size","tract")])
#Add code
a_tract_to_play_with$code_to_compare_race_age_gender=make_easier(a_tract_to_play_with)
#Table by race age and gender
age_race_gender_tract=ftable(a_tract_to_play_with$code_to_compare_race_age_gender)
age_race_gender_tract_dataframe=as.data.frame.matrix(age_race_gender_tract)
colnames(age_race_gender_tract_dataframe)=unlist(attr(current_babies_race_sex, "col.vars"))

#Colnames needed
column_names_needed=c("black.boys.under.5",
                      "black.boys.5.to.9",
                      "black.boys.10.to.14",
                      "black.boys.15.to.17",
                      "black.men.18.to.19",
                      "black.men.20.to.24",
                      "black.men.25.to.29",
                      "black.men.30.to.34",
                      "black.men.35.to.44",
                      "black.men.45.to.54",
                      "black.men.55.to.64",
                      "black.men.65.to.74",
                      "black.men.75.to.84",
                      "black.men.over.85",
                      "black.girls.under.5",
                      "black.girls.5.to.9",
                      "black.girls.10.to.14",
                      "black.girls.15.to.17",
                      "black.women.18.to.19",
                      "black.women.20.to.24",
                      "black.women.25.to.29",
                      "black.women.30.to.34",
                      "black.women.35.to.44",
                      "black.women.45.to.54",
                      "black.women.55.to.64",
                      "black.women.65.to.74",
                      "black.women.75.to.84",
                      "black.women.over.85",
                      "amer.indian.alaskan.boys.under.5",
                      "amer.indian.alaskan.boys.5.to.9",
                      "amer.indian.alaskan.boys.10.to.14",
                      "amer.indian.alaskan.boys.15.to.17",
                      "amer.indian.alaskan.men.18.to.19",
                      "amer.indian.alaskan.men.20.to.24",
                      "amer.indian.alaskan.men.25.to.29",
                      "amer.indian.alaskan.men.30.to.34",
                      "amer.indian.alaskan.men.35.to.44",
                      "amer.indian.alaskan.men.45.to.54",
                      "amer.indian.alaskan.men.55.to.64",
                      "amer.indian.alaskan.men.65.to.74",
                      "amer.indian.alaskan.men.75.to.84",
                      "amer.indian.alaskan.men.over.85",
                      "amer.indian.alaskan.girls.under.5",
                      "amer.indian.alaskan.girls.5.to.9",
                      "amer.indian.alaskan.girls.10.to.14",
                      "amer.indian.alaskan.girls.15.to.17",
                      "amer.indian.alaskan.women.18.to.19",
                      "amer.indian.alaskan.women.20.to.24",
                      "amer.indian.alaskan.women.25.to.29",
                      "amer.indian.alaskan.women.30.to.34",
                      "amer.indian.alaskan.women.35.to.44",
                      "amer.indian.alaskan.women.45.to.54",
                      "amer.indian.alaskan.women.55.to.64",
                      "amer.indian.alaskan.women.65.to.74",
                      "amer.indian.alaskan.women.75.to.84",
                      "amer.indian.alaskan.women.over.85",
                      "asian.boys.under.5",
                      "asian.boys.5.to.9",
                      "asian.boys.10.to.14",
                      "asian.boys.15.to.17",
                      "asian.men.18.to.19",
                      "asian.men.20.to.24",
                      "asian.men.25.to.29",
                      "asian.men.30.to.34",
                      "asian.men.35.to.44",
                      "asian.men.45.to.54",
                      "asian.men.55.to.64",
                      "asian.men.65.to.74",
                      "asian.men.75.to.84",
                      "asian.men.over.85",
                      "asian.girls.under.5",
                      "asian.girls.5.to.9",
                      "asian.girls.10.to.14",
                      "asian.girls.15.to.17",
                      "asian.women.18.to.19",
                      "asian.women.20.to.24",
                      "asian.women.25.to.29",
                      "asian.women.30.to.34",
                      "asian.women.35.to.44",
                      "asian.women.45.to.54",
                      "asian.women.55.to.64",
                      "asian.women.65.to.74",
                      "asian.women.75.to.84",
                      "asian.women.over.85",
                      "islander.boys.under.5",
                      "islander.boys.5.to.9",
                      "islander.boys.10.to.14",
                      "islander.boys.15.to.17",
                      "islander.men.18.to.19",
                      "islander.men.20.to.24",
                      "islander.men.25.to.29",
                      "islander.men.30.to.34",
                      "islander.men.35.to.44",
                      "islander.men.45.to.54",
                      "islander.men.55.to.64",
                      "islander.men.65.to.74",
                      "islander.men.75.to.84",
                      "islander.men.over.85",
                      "islander.girls.under.5",
                      "islander.girls.5.to.9",
                      "islander.girls.10.to.14",
                      "islander.girls.15.to.17",
                      "islander.women.18.to.19",
                      "islander.women.20.to.24",
                      "islander.women.25.to.29",
                      "islander.women.30.to.34",
                      "islander.women.35.to.44",
                      "islander.women.45.to.54",
                      "islander.women.55.to.64",
                      "islander.women.65.to.74",
                      "islander.women.75.to.84",
                      "islander.women.over.85",
                      "other.race.boys.under.5",
                      "other.race.boys.5.to.9",
                      "other.race.boys.10.to.14",
                      "other.race.boys.15.to.17",
                      "other.race.men.18.to.19",
                      "other.race.men.20.to.24",
                      "other.race.men.25.to.29",
                      "other.race.men.30.to.34",
                      "other.race.men.35.to.44",
                      "other.race.men.45.to.54",
                      "other.race.men.55.to.64",
                      "other.race.men.65.to.74",
                      "other.race.men.75.to.84",
                      "other.race.men.over.85",
                      "other.race.girls.under.5",
                      "other.race.girls.5.to.9",
                      "other.race.girls.10.to.14",
                      "other.race.girls.15.to.17",
                      "other.race.women.18.to.19",
                      "other.race.women.20.to.24",
                      "other.race.women.25.to.29",
                      "other.race.women.30.to.34",
                      "other.race.women.35.to.44",
                      "other.race.women.45.to.54",
                      "other.race.women.55.to.64",
                      "other.race.women.65.to.74",
                      "other.race.women.75.to.84",
                      "other.race.women.over.85",
                      "multiracial.boys.under.5",
                      "multiracial.boys.5.to.9",
                      "multiracial.boys.10.to.14",
                      "multiracial.boys.15.to.17",
                      "multiracial.men.18.to.19",
                      "multiracial.men.20.to.24",
                      "multiracial.men.25.to.29",
                      "multiracial.men.30.to.34",
                      "multiracial.men.35.to.44",
                      "multiracial.men.45.to.54",
                      "multiracial.men.55.to.64",
                      "multiracial.men.65.to.74",
                      "multiracial.men.75.to.84",
                      "multiracial.men.over.85",
                      "multiracial.girls.under.5",
                      "multiracial.girls.5.to.9",
                      "multiracial.girls.10.to.14",
                      "multiracial.girls.15.to.17",
                      "multiracial.women.18.to.19",
                      "multiracial.women.20.to.24",
                      "multiracial.women.25.to.29",
                      "multiracial.women.30.to.34",
                      "multiracial.women.35.to.44",
                      "multiracial.women.45.to.54",
                      "multiracial.women.55.to.64",
                      "multiracial.women.65.to.74",
                      "multiracial.women.75.to.84",
                      "multiracial.women.over.85",
                      "white.boys.under.5",
                      "white.boys.5.to.9",
                      "white.boys.10.to.14",
                      "white.boys.15.to.17",
                      "white.men.18.to.19",
                      "white.men.20.to.24",
                      "white.men.25.to.29",
                      "white.men.30.to.34",
                      "white.men.35.to.44",
                      "white.men.45.to.54",
                      "white.men.55.to.64",
                      "white.men.65.to.74",
                      "white.men.75.to.84",
                      "white.men.over.85",
                      "white.girls.under.5",
                      "white.girls.5.to.9",
                      "white.girls.10.to.14",
                      "white.girls.15.to.17",
                      "white.women.18.to.19",
                      "white.women.20.to.24",
                      "white.women.25.to.29",
                      "white.women.30.to.34",
                      "white.women.35.to.44",
                      "white.women.45.to.54",
                      "white.women.55.to.64",
                      "white.women.65.to.74",
                      "white.women.75.to.84",
                      "white.women.over.85",
                      "hispanic.boys.under.5",
                      "hispanic.boys.5.to.9",
                      "hispanic.boys.10.to.14",
                      "hispanic.boys.15.to.17",
                      "hispanic.men.18.to.19",
                      "hispanic.men.20.to.24",
                      "hispanic.men.25.to.29",
                      "hispanic.men.30.to.34",
                      "hispanic.men.35.to.44",
                      "hispanic.men.45.to.54",
                      "hispanic.men.55.to.64",
                      "hispanic.men.65.to.74",
                      "hispanic.men.75.to.84",
                      "hispanic.men.over.85",
                      "hispanic.girls.under.5",
                      "hispanic.girls.5.to.9",
                      "hispanic.girls.10.to.14",
                      "hispanic.girls.15.to.17",
                      "hispanic.women.18.to.19",
                      "hispanic.women.20.to.24",
                      "hispanic.women.25.to.29",
                      "hispanic.women.30.to.34",
                      "hispanic.women.35.to.44",
                      "hispanic.women.45.to.54",
                      "hispanic.women.55.to.64",
                      "hispanic.women.65.to.74",
                      "hispanic.women.75.to.84",
                      "hispanic.women.over.85")

